---
import BlogLayout from '../../layouts/BlogLayout.astro'

export async function getStaticPaths() {
	const allPosts: any[] = await Astro.glob('../../content/blog/*.{md,mdx}')

	return allPosts.map((post: any) => ({
		params: {
			slug:
				post.file
					.split('/')
					.pop()
					?.replace(/\.(md|mdx)$/, '') || ''
		},
		props: { post }
	}))
}

const { post } = Astro.props
const { Content, frontmatter } = post
---

<BlogLayout frontmatter={frontmatter}>
	<Content />
</BlogLayout>
